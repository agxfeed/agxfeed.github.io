
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AGXFeed API Documentation</title>
  <style>
    /* Base styles */
    :root {
      --background: 0 0% 100%;
      --foreground: 0 0% 0%;
      --card: 0 0% 100%;
      --card-foreground: 0 0% 0%;
      --popover: 0 0% 100%;
      --popover-foreground: 0 0% 0%;
      --primary: 158 100% 43%;
      --primary-foreground: 0 0% 0%;
      --secondary: 154 67% 96%;
      --secondary-foreground: 0 0% 0%;
      --muted: 154 67% 96%;
      --muted-foreground: 0 0% 40%;
      --accent: 154 67% 96%;
      --accent-foreground: 0 0% 0%;
      --destructive: 0 84.2% 60.2%;
      --destructive-foreground: 0 0% 98%;
      --border: 0 0% 90%;
      --input: 0 0% 90%;
      --ring: 158 100% 43%;
      --radius: 0.5rem;
    }

    .dark {
      --background: 0 0% 0%;
      --foreground: 0 0% 100%;
      --card: 0 0% 0%;
      --card-foreground: 0 0% 100%;
      --popover: 0 0% 0%;
      --popover-foreground: 0 0% 100%;
      --primary: 158 100% 43%;
      --primary-foreground: 0 0% 100%;
      --secondary: 240 4% 16%;
      --secondary-foreground: 0 0% 100%;
      --muted: 240 4% 16%;
      --muted-foreground: 215 20.2% 65.1%;
      --accent: 240 4% 16%;
      --accent-foreground: 0 0% 100%;
      --destructive: 0 62.8% 30.6%;
      --destructive-foreground: 0 0% 100%;
      --border: 240 4% 16%;
      --input: 240 4% 16%;
      --ring: 158 100% 43%;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      border-color: hsl(var(--border));
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.5;
      background-color: hsl(var(--background));
      color: hsl(var(--foreground));
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    h1, h2, h3, h4, h5, h6 {
      margin-bottom: 1rem;
      font-weight: 600;
      line-height: 1.25;
    }

    h1 {
      font-size: 2.5rem;
      margin-top: 2rem;
      margin-bottom: 1.5rem;
      border-bottom: 1px solid hsl(var(--border));
      padding-bottom: 0.5rem;
    }

    h2 {
      font-size: 2rem;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      border-bottom: 1px solid hsl(var(--border));
      padding-bottom: 0.5rem;
    }

    h3 {
      font-size: 1.5rem;
      margin-top: 2rem;
      margin-bottom: 1rem;
    }

    h4 {
      font-size: 1.25rem;
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
    }

    p {
      margin-bottom: 1rem;
    }

    a {
      color: #00DC82;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    ul, ol {
      margin-bottom: 1rem;
      padding-left: 1.5rem;
    }

    li {
      margin-bottom: 0.5rem;
    }

    code {
      font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background-color: hsl(var(--muted));
      padding: 0.2rem 0.4rem;
      border-radius: 0.25rem;
      font-size: 0.875rem;
      border: 1px solid hsl(var(--border));
    }

    pre {
      font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background-color: hsl(var(--muted));
      padding: 1rem;
      border-radius: 0.5rem;
      overflow-x: auto;
      margin-bottom: 1.5rem;
      border: 1px solid hsl(var(--border));
    }

    pre code {
      background-color: transparent;
      padding: 0;
      border: none;
    }

    .text-primary {
      color: #00DC82;
    }

    .text-muted {
      color: hsl(var(--muted-foreground));
    }

    /* Card styles */
    .card {
      background-color: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: 0.5rem;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }

    .card-header {
      margin-bottom: 1rem;
    }

    .card-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .card-description {
      color: hsl(var(--muted-foreground));
    }

    /* Button styles */
    .button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.5rem 1rem;
      background-color: #00DC82;
      color: black;
      font-weight: 500;
      border-radius: 0.375rem;
      text-decoration: none;
      transition: background-color 0.2s;
    }

    .button:hover {
      background-color: #00c070;
      text-decoration: none;
    }

    /* Code block styles */
    .code-block {
      margin-bottom: 1.5rem;
      border-radius: 0.5rem;
      overflow: hidden;
      border: 1px solid hsl(var(--border));
    }

    .code-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem 1rem;
      background-color: hsl(var(--muted));
      border-bottom: 1px solid hsl(var(--border));
    }

    .code-header span {
      font-size: 0.75rem;
      color: hsl(var(--muted-foreground));
    }

    /* Table styles */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1.5rem;
    }

    th, td {
      padding: 0.75rem;
      text-align: left;
      border-bottom: 1px solid hsl(var(--border));
    }

    th {
      font-weight: 600;
      background-color: hsl(var(--muted));
    }

    /* Section styles */
    .section {
      margin-bottom: 3rem;
      padding-bottom: 1rem;
    }

    .endpoint-section {
      margin-bottom: 4rem;
      padding: 2rem;
      border: 1px solid hsl(var(--border));
      border-radius: 0.5rem;
      background-color: hsl(var(--card));
    }

    .endpoint-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .endpoint-title {
      font-size: 1.75rem;
      font-weight: 600;
    }

    .endpoint-description {
      color: hsl(var(--muted-foreground));
      margin-bottom: 1.5rem;
    }

    .endpoint-url {
      margin-bottom: 2rem;
    }

    .endpoint-content {
      margin-top: 1.5rem;
    }

    .endpoint-subsection {
      margin-bottom: 2rem;
      padding: 1.5rem;
      border: 1px solid hsl(var(--border));
      border-radius: 0.5rem;
      background-color: hsl(var(--background));
    }

    .endpoint-subsection h4 {
      margin-top: 0;
      margin-bottom: 1rem;
    }

    /* Grid layout */
    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      body {
        padding: 1rem;
      }

      .endpoint-header {
        flex-direction: column;
        align-items: flex-start;
      }

      .endpoint-header h3 {
        margin-bottom: 1rem;
      }
    }

    /* Language indicator */
    .language-indicator {
      display: inline-block;
      padding: 0.25rem 0.5rem;
      background-color: hsl(var(--muted));
      border-radius: 0.25rem;
      font-size: 0.75rem;
      margin-right: 0.5rem;
    }

    /* Version indicator */
    .version-indicator {
      display: inline-block;
      padding: 0.25rem 0.5rem;
      background-color: #00DC82;
      color: black;
      border-radius: 0.25rem;
      font-size: 0.75rem;
    }

    /* List styles */
    .list-disc {
      list-style-type: disc;
      padding-left: 1.5rem;
    }

    .space-y-2 > * + * {
      margin-top: 0.5rem;
    }

    .mb-4 {
      margin-bottom: 1rem;
    }

    .mt-4 {
      margin-top: 1rem;
    }

    .mt-6 {
      margin-top: 1.5rem;
    }
  </style>
</head>
<body>
  <header>
    <h1><span class="text-primary">agx</span>Feed API Documentation</h1>
    <div class="version-indicator">v1</div>
  </header>

  <main>
    <!-- Introduzione -->
    <section class="section" id="introduction">
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Iniziare</h2>
          <p class="card-description">Impara come utilizzare l'API AGXFeed</p>
        </div>
        <div class="card-content">
          <p>Benvenuto nella documentazione dell'API AGXFeed. Questa API fornisce accesso ai dati sui prezzi delle materie prime agricole.</p>
          <p>
            <strong>URL Base:</strong> <code>api3.agxfeed.com</code>
          </p>
          <p>
            <strong>Versione API:</strong> <code>/v1</code>
          </p>
        </div>
      </div>

      <div class="grid-container">
        <div class="card">
          <div class="card-header">
            <h3>API Endpoints</h3>
          </div>
          <div class="card-content">
            <ul>
              <li><a href="#sources">/sources - Ottieni Tutte le Fonti</a></li>
              <li><a href="#products">/products - Elenca Tutti i Prodotti</a></li>
              <li><a href="#lastprice">/lastprice - Ottieni l'Ultimo Prezzo</a></li>
              <li><a href="#highlow">/highlow - Ottieni Prezzi Massimi e Minimi</a></li>
              <li><a href="#ohlc">/ohlc - Ottieni Dati Open, High, Low, Close</a></li>
            </ul>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <h3>Risorse</h3>
          </div>
          <div class="card-content">
            <p>Impara come utilizzare l'API AGXFeed</p>
            <ul>
              <li><a href="#authentication">Autenticazione</a></li>
              <li><a href="#rate-limits">Limiti di Frequenza</a></li>
              <li><a href="#error-handling">Gestione Errori</a></li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Endpoints -->
    <h1 id="endpoints">API Endpoints</h1>

    <!-- Sources Endpoint -->
    <section class="endpoint-section" id="sources">
      <div class="endpoint-header">
        <h2 class="endpoint-title">Fonti</h2>
        <div class="version-indicator">v1</div>
      </div>
      <p class="endpoint-description">Ottieni Tutte le Fonti</p>
      
      <div class="code-block endpoint-url">
        <div class="code-header">
          <span>http</span>
        </div>
        <pre><code>GET /v1/sources/</code></pre>
      </div>

      <div class="endpoint-content">
        <div class="endpoint-subsection">
          <h4>Panoramica</h4>
          <p>Questo endpoint elenca tutte le fonti disponibili. L'accesso è libero.</p>
          <p class="mt-4">Questo endpoint restituisce un elenco di tutte le fonti disponibili nel sistema AGXFeed. Ogni fonte rappresenta un fornitore di dati o un mercato da cui vengono raccolti i prezzi delle materie prime.</p>
        </div>

        <div class="endpoint-subsection">
          <h4>Formato della Risposta</h4>
          <p class="mb-4">La risposta è un oggetto JSON con le seguenti proprietà:</p>
          <ul class="list-disc space-y-2 mb-4">
            <li>
              <code>name</code> - Nome visualizzato della fonte
            </li>
            <li>
              <code>code</code> - Codice identificativo breve per la fonte
            </li>
          </ul>
          
          <div class="code-block">
            <div class="code-header">
              <span>json</span>
            </div>
            <pre><code>[
  {
    "name": "string",
    "code": "string"
  }
]</code></pre>
          </div>
        </div>

        <div class="endpoint-subsection">
          <h4>Esempio di Richiesta</h4>
          <div class="code-block">
            <div class="code-header">
              <span>bash</span>
            </div>
            <pre><code>curl -X 'GET' \
'https://api3.agxfeed.com/v1/sources/' \
-H 'accept: application/json'</code></pre>
          </div>

          <h4 class="mt-6">Esempio di Risposta</h4>
          <div class="code-block">
            <div class="code-header">
              <span>json</span>
            </div>
            <pre><code>[
  {
    "name": "string",
    "code": "string"
  }
]</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Products Endpoint -->
    <section class="endpoint-section" id="products">
      <div class="endpoint-header">
        <h2 class="endpoint-title">Prodotti</h2>
        <div class="version-indicator">v1</div>
      </div>
      <p class="endpoint-description">Elenca Tutti i Prodotti</p>
      
      <div class="code-block endpoint-url">
        <div class="code-header">
          <span>http</span>
        </div>
        <pre><code>GET /v1/products/</code></pre>
      </div>

      <div class="endpoint-content">
        <div class="endpoint-subsection">
          <h4>Panoramica</h4>
          <p>Questo endpoint elenca tutti i prodotti disponibili. L'accesso è libero.</p>
          <p class="mt-4">Questo endpoint restituisce un elenco di tutti i prodotti disponibili nel sistema AGXFeed. Ogni prodotto rappresenta una materia prima con le relative informazioni sul simbolo e sulla fonte.</p>
        </div>

        <div class="endpoint-subsection">
          <h4>Formato della Risposta</h4>
          <p class="mb-4">La risposta è un oggetto JSON con le seguenti proprietà:</p>
          <ul class="list-disc space-y-2 mb-4">
            <li>
              <code>symbol_name</code> - Nome visualizzato del simbolo
            </li>
            <li>
              <code>symbol_code</code> - Codice identificativo breve per il simbolo
            </li>
            <li>
              <code>source_name</code> - Nome visualizzato della fonte
            </li>
            <li>
              <code>source_code</code> - Codice identificativo breve per la fonte
            </li>
          </ul>
          
          <div class="code-block">
            <div class="code-header">
              <span>json</span>
            </div>
            <pre><code>[
  {
    "symbol_name": "string",
    "symbol_code": "string",
    "source_name": "string",
    "source_code": "string"
  }
]</code></pre>
          </div>
        </div>

        <div class="endpoint-subsection">
          <h4>Esempio di Richiesta</h4>
          <div class="code-block">
            <div class="code-header">
              <span>bash</span>
            </div>
            <pre><code>curl -X 'GET' \
'https://api3.agxfeed.com/v1/products/' \
-H 'accept: application/json'</code></pre>
          </div>

          <h4 class="mt-6">Esempio di Risposta</h4>
          <div class="code-block">
            <div class="code-header">
              <span>json</span>
            </div>
            <pre><code>[
  {
    "symbol_name": "string",
    "symbol_code": "string",
    "source_name": "string",
    "source_code": "string"
  }
]</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Last Price Endpoint -->
    <section class="endpoint-section" id="lastprice">
      <div class="endpoint-header">
        <h2 class="endpoint-title">Ultimo Prezzo</h2>
        <div class="version-indicator">v1</div>
      </div>
      <p class="endpoint-description">Ottieni l'Ultimo Prezzo</p>
      
      <div class="code-block endpoint-url">
        <div class="code-header">
          <span>http</span>
        </div>
        <pre><code>GET /v1/lastprice/</code></pre>
      </div>

      <div class="endpoint-content">
        <div class="endpoint-subsection">
          <h4>Panoramica</h4>
          <p>Questo endpoint recupera l'ultimo prezzo per un simbolo specifico da una fonte specifica.</p>
          <p class="mt-4">Questo endpoint restituisce l'ultimo prezzo disponibile per un simbolo specifico da una fonte specifica. È necessario fornire sia il codice del simbolo che il codice della fonte come parametri di query.</p>
        </div>

        <div class="endpoint-subsection">
          <h4>Parametri</h4>
          <table>
            <thead>
              <tr>
                <th>Nome</th>
                <th>Tipo</th>
                <th>Obbligatorio</th>
                <th>Descrizione</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>symbol</code></td>
                <td>stringa</td>
                <td>Sì</td>
                <td>Codice simbolo (es. "SSN")</td>
              </tr>
              <tr>
                <td><code>source</code></td>
                <td>stringa</td>
                <td>Sì</td>
                <td>Codice fonte singola (es. "BMVR")</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="endpoint-subsection">
          <h4>Formato della Risposta</h4>
          <p class="mb-4">La risposta è un oggetto JSON con le seguenti proprietà:</p>
          <ul class="list-disc space-y-2 mb-4">
            <li>
              <code>symbol</code> - Codice del simbolo
            </li>
            <li>
              <code>name</code> - Nome visualizzato del simbolo
            </li>
            <li>
              <code>currency</code> - Valuta del prezzo
            </li>
            <li>
              <code>unit_of_measure</code> - Unità di misura
            </li>
            <li>
              <code>min</code> - Prezzo minimo
            </li>
            <li>
              <code>max</code> - Prezzo massimo
            </li>
            <li>
              <code>source_code</code> - Codice della fonte
            </li>
            <li>
              <code>timestamp</code> - Timestamp del prezzo
            </li>
          </ul>
          
          <div class="code-block">
            <div class="code-header">
              <span>json</span>
            </div>
            <pre><code>{
  "symbol": "SSN",
  "name": "Semi di Soia Nazionale",
  "currency": "EUR",
  "unit_of_measure": "tonnellata",
  "min": 425,
  "max": 427,
  "source_code": "BMVR",
  "timestamp": "2025-03-10T00:00:00+00:00"
}</code></pre>
          </div>
        </div>

        <div class="endpoint-subsection">
          <h4>Esempio di Richiesta</h4>
          <div class="code-block">
            <div class="code-header">
              <span>bash</span>
            </div>
            <pre><code>curl -X 'GET' \
'https://api3.agxfeed.com/v1/lastprice/?symbol=SSN&source=BMVR' \
-H 'accept: application/json'</code></pre>
          </div>

          <h4 class="mt-6">Esempio di Risposta</h4>
          <div class="code-block">
            <div class="code-header">
              <span>json</span>
            </div>
            <pre><code>{
  "symbol": "SSN",
  "name": "Semi di Soia Nazionale",
  "currency": "EUR",
  "unit_of_measure": "tonnellata",
  "min": 425,
  "max": 427,
  "source_code": "BMVR",
  "timestamp": "2025-03-10T00:00:00+00:00"
}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Highlow Endpoint -->
    <section class="endpoint-section" id="highlow">
      <div class="endpoint-header">
        <h2 class="endpoint-title">Massimi e Minimi</h2>
        <div class="version-indicator">v1</div>
      </div>
      <p class="endpoint-description">Ottieni Prezzi Massimi e Minimi</p>
      
      <div class="code-block endpoint-url">
        <div class="code-header">
          <span>http</span>
        </div>
        <pre><code>GET /v1/highlow/</code></pre>
      </div>

      <div class="endpoint-content">
        <div class="endpoint-subsection">
          <h4>Panoramica</h4>
          <p>Questo endpoint recupera i prezzi massimi e minimi per un simbolo specifico da più fonti, raggruppati per intervalli di tempo.</p>
          <p class="mt-4">Questo endpoint restituisce i prezzi massimi e minimi per un simbolo specifico da più fonti, raggruppati per intervalli di tempo. È possibile specificare la dimensione dell'intervallo di tempo, limitare il numero di risultati e filtrare per intervallo di tempo.</p>
        </div>

        <div class="endpoint-subsection">
          <h4>Parametri</h4>
          <table>
            <thead>
              <tr>
                <th>Nome</th>
                <th>Tipo</th>
                <th>Obbligatorio</th>
                <th>Descrizione</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>symbol</code></td>
                <td>stringa</td>
                <td>Sì</td>
                <td>Codice simbolo (es. "SSN")</td>
              </tr>
              <tr>
                <td><code>sources</code></td>
                <td>stringa</td>
                <td>Sì</td>
                <td>Lista di codici fonte separati da virgola (es. "BMVR,AGMI")</td>
              </tr>
              <tr>
                <td><code>bucket</code></td>
                <td>stringa</td>
                <td>No</td>
                <td>Intervallo temporale: "1D", "7D", "30D", "365D"</td>
              </tr>
              <tr>
                <td><code>limit</code></td>
                <td>intero</td>
                <td>No</td>
                <td>Numero massimo di risultati da restituire</td>
              </tr>
              <tr>
                <td><code>start_time</code></td>
                <td>stringa</td>
                <td>No</td>
                <td>Orario di inizio in formato ISO</td>
              </tr>
              <tr>
                <td><code>end_time</code></td>
                <td>stringa</td>
                <td>No</td>
                <td>Orario di fine in formato ISO</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="endpoint-subsection">
          <h4>Formato della Risposta</h4>
          <p class="mb-4">La risposta è un oggetto JSON con le seguenti proprietà:</p>
          <ul class="list-disc space-y-2 mb-4">
            <li>
              <code>symbol</code> - Codice del simbolo
            </li>
            <li>
              <code>sources</code> - Array di codici fonte
            </li>
            <li>
              <code>bucket</code> - Intervallo temporale utilizzato
            </li>
            <li>
              <code>limit</code> - Limite applicato
            </li>
            <li>
              <code>start_time</code> - Filtro orario di inizio
            </li>
            <li>
              <code>end_time</code> - Filtro orario di fine
            </li>
            <li>
              <code>highlow</code> - Array di punti dati highlow
            </li>
          </ul>
          
          <p class="mb-4">Ogni punto dati highlow contiene:</p>
          <ul class="list-disc space-y-2 mb-4">
            <li>
              <code>timestamp</code> - Timestamp del punto dati
            </li>
            <li>
              <code>high</code> - Prezzo più alto nell'intervallo temporale
            </li>
            <li>
              <code>low</code> - Prezzo più basso nell'intervallo temporale
            </li>
          </ul>
          
          <div class="code-block">
            <div class="code-header">
              <span>json</span>
            </div>
            <pre><code>{
  "symbol": "SSN",
  "sources": [
    "BMVR",
    "AGMI",
    "BMBO"
  ],
  "bucket": "1D",
  "limit": 1200,
  "start_time": null,
  "end_time": null,
  "highlow": [
    {
      "timestamp": "2018-08-20T00:00:00+00:00",
      "high": 352,
      "low": 350
    },
    {
      "timestamp": "2018-09-24T00:00:00+00:00",
      "high": 330,
      "low": 325
    }
  ]
}</code></pre>
          </div>
        </div>

        <div class="endpoint-subsection">
          <h4>Esempio di Richiesta</h4>
          <div class="code-block">
            <div class="code-header">
              <span>bash</span>
            </div>
            <pre><code>curl -X 'GET' \
'https://api3.agxfeed.com/v1/highlow/?symbol=SSN&sources=BMVR%2CAGMI%2CBMBO&bucket=1D&limit=1200' \
-H 'accept: application/json'</code></pre>
          </div>

          <h4 class="mt-6">Esempio di Risposta</h4>
          <div class="code-block">
            <div class="code-header">
              <span>json</span>
            </div>
            <pre><code>{
  "symbol": "SSN",
  "sources": [
    "BMVR",
    "AGMI",
    "BMBO"
  ],
  "bucket": "1D",
  "limit": 1200,
  "start_time": null,
  "end_time": null,
  "highlow": [
    {
      "timestamp": "2018-08-20T00:00:00+00:00",
      "high": 352,
      "low": 350
    },
    {
      "timestamp": "2018-09-24T00:00:00+00:00",
      "high": 330,
      "low": 325
    }
  ]
}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- OHLC Endpoint -->
    <section class="endpoint-section" id="ohlc">
      <div class="endpoint-header">
        <h2 class="endpoint-title">OHLC</h2>
        <div class="version-indicator">v1</div>
      </div>
      <p class="endpoint-description">Ottieni Dati Open, High, Low, Close</p>
      
      <div class="code-block endpoint-url">
        <div class="code-header">
          <span>http</span>
        </div>
        <pre><code>GET /v1/ohlc/</code></pre>
      </div>

      <div class="endpoint-content">
        <div class="endpoint-subsection">
          <h4>Panoramica</h4>
          <p class="mb-4">Questo endpoint recupera dati OHLC (Open, High, Low, Close) per un simbolo specifico da più fonti, raggruppati per intervalli di tempo.</p>
          <p class="mb-4">La logica per il calcolo dei valori OHLC è la seguente:</p>
          <ul class="list-disc space-y-2">
            <li>Per intervalli giornalieri (1D), ogni record rappresenta dati giornalieri, quindi open e close sono calcolati come (min+max)/2.</li>
            <li>Per intervalli più grandi (es. settimanali), l'apertura è calcolata come la media del primo giorno nell'intervallo, e la chiusura come la media dell'ultimo giorno. High e low sono i valori massimi e minimi assoluti all'interno dell'intervallo.</li>
          </ul>
          <p class="mt-4">Questa aggregazione viene eseguita direttamente in SQL utilizzando le funzioni aggregate first() e last() di TimescaleDB.</p>
        </div>

        <div class="endpoint-subsection">
          <h4>Parametri</h4>
          <table>
            <thead>
              <tr>
                <th>Nome</th>
                <th>Tipo</th>
                <th>Obbligatorio</th>
                <th>Descrizione</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>symbol</code></td>
                <td>stringa</td>
                <td>Sì</td>
                <td>Codice simbolo (es. "SSN")</td>
              </tr>
              <tr>
                <td><code>sources</code></td>
                <td>stringa</td>
                <td>Sì</td>
                <td>Lista di codici fonte separati da virgola (es. "BMVR,AGMI")</td>
              </tr>
              <tr>
                <td><code>bucket</code></td>
                <td>stringa</td>
                <td>No</td>
                <td>Intervallo temporale: "1D", "7D", "30D", "365D"</td>
              </tr>
              <tr>
                <td><code>limit</code></td>
                <td>intero</td>
                <td>No</td>
                <td>Numero massimo di risultati da restituire</td>
              </tr>
              <tr>
                <td><code>start_time</code></td>
                <td>stringa</td>
                <td>No</td>
                <td>Orario di inizio in formato ISO</td>
              </tr>
              <tr>
                <td><code>end_time</code></td>
                <td>stringa</td>
                <td>No</td>
                <td>Orario di fine in formato ISO</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="endpoint-subsection">
          <h4>Formato della Risposta</h4>
          <p class="mb-4">La risposta è un oggetto JSON con le seguenti proprietà:</p>
          <ul class="list-disc space-y-2 mb-4">
            <li>
              <code>symbol</code> - Codice del simbolo
            </li>
            <li>
              <code>sources</code> - Array di codici fonte
            </li>
            <li>
              <code>bucket</code> - Intervallo temporale utilizzato
            </li>
            <li>
              <code>limit</code> - Limite applicato
            </li>
            <li>
              <code>start_time</code> - Filtro orario di inizio
            </li>
            <li>
              <code>end_time</code> - Filtro orario di fine
            </li>
            <li>
              <code>ohlc</code> - Array di punti dati OHLC
            </li>
          </ul>
          
          <p class="mb-4">Ogni punto dati OHLC contiene:</p>
          <ul class="list-disc space-y-2 mb-4">
            <li>
              <code>timestamp</code> - Timestamp del punto dati
            </li>
            <li>
              <code>open</code> - Prezzo di apertura
            </li>
            <li>
              <code>high</code> - Prezzo più alto
            </li>
            <li>
              <code>low</code> - Prezzo più basso
            </li>
            <li>
              <code>close</code> - Prezzo di chiusura
            </li>
          </ul>
          
          <div class="code-block">
            <div class="code-header">
              <span>json</span>
            </div>
            <pre><code>{
  "symbol": "SSN",
  "sources": [
    "BMVR",
    "AGMI",
    "BMBO"
  ],
  "bucket": "1D",
  "limit": 1200,
  "start_time": null,
  "end_time": null,
  "ohlc": [
    {
      "timestamp": "2018-08-20T00:00:00+00:00",
      "open": 351,
      "high": 352,
      "low": 350,
      "close": 351
    },
    {
      "timestamp": "2018-09-24T00:00:00+00:00",
      "open": 327.5,
      "high": 330,
      "low": 325,
      "close": 327.5
    }
  ]
}</code></pre>
          </div>
        </div>

        <div class="endpoint-subsection">
          <h4>Esempio di Richiesta</h4>
          <div class="code-block">
            <div class="code-header">
              <span>bash</span>
            </div>
            <pre><code>curl -X 'GET' \
'https://api3.agxfeed.com/v1/ohlc/?symbol=SSN&sources=BMVR%2CAGMI%2CBMBO&bucket=1D&limit=1200' \
-H 'accept: application/json'</code></pre>
          </div>

          <h4 class="mt-6">Esempio di Risposta</h4>
          <div class="code-block">
            <div class="code-header">
              <span>json</span>
            </div>
            <pre><code>{
  "symbol": "SSN",
  "sources": [
    "BMVR",
    "AGMI",
    "BMBO"
  ],
  "bucket": "1D",
  "limit": 1200,
  "start_time": null,
  "end_time": null,
  "ohlc": [
    {
      "timestamp": "2018-08-20T00:00:00+00:00",
      "open": 351,
      "high": 352,
      "low": 350,
      "close": 351
    },
    {
      "timestamp": "2018-09-24T00:00:00+00:00",
      "open": 327.5,
      "high": 330,
      "low": 325,
      "close": 327.5
    }
  ]
}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Guides -->
    <h1 id="guides">Risorse</h1>

    <!-- Authentication Guide -->
    <section class="section" id="authentication">
      <div class="endpoint-header">
        <h2 class="endpoint-title">Autenticazione</h2>
        <div class="version-indicator">v1</div>
      </div>

      <div class="prose">
        <p>L'API AGXFeed attualmente non richiede autenticazione per gli endpoint documentati qui. Tutti gli endpoint elencati sono accessibili pubblicamente.</p>

        <p>Le versioni future dell'API potrebbero introdurre requisiti di autenticazione per determinati endpoint o limitazioni di frequenza basate su chiavi API. Questa documentazione sarà aggiornata di conseguenza quando tali modifiche verranno implementate.</p>

        <h3>Accesso API</h3>
        <p>Sebbene attualmente non sia richiesta alcuna autenticazione, si prega di prestare attenzione ai modelli di utilizzo e di evitare di effettuare richieste eccessive all'API. Implementare meccanismi di caching appropriati nelle proprie applicazioni per ridurre il numero di chiamate API.</p>
      </div>
    </section>

    <!-- Rate Limits Guide -->
    <section class="section" id="rate-limits">
      <div class="endpoint-header">
        <h2 class="endpoint-title">Limiti di Frequenza</h2>
        <div class="version-indicator">v1</div>
      </div>

      <div class="prose">
        <p>L'API AGXFeed implementa limiti di frequenza per garantire un utilizzo equo e la stabilità del sistema. Comprendere questi limiti ti aiuterà a progettare la tua applicazione per lavorare in modo ottimale con l'API.</p>

        <h3>Limiti Attuali</h3>
        <p>I limiti di frequenza attuali per l'API AGXFeed sono i seguenti:</p>

        <ul>
          <li>60 richieste al minuto per indirizzo IP</li>
          <li>1000 richieste all'ora per indirizzo IP</li>
        </ul>

        <h3>Header dei Limiti di Frequenza</h3>
        <p>L'API include informazioni sui limiti di frequenza negli header di risposta:</p>

        <ul>
          <li><code>X-RateLimit-Limit</code>: Il numero massimo di richieste consentite nella finestra temporale corrente</li>
          <li><code>X-RateLimit-Remaining</code>: Il numero di richieste rimanenti nella finestra temporale corrente</li>
          <li><code>X-RateLimit-Reset</code>: L'ora in cui la finestra del limite di frequenza corrente si reimposta, in secondi epoch UTC</li>
        </ul>

        <h3>Superamento dei Limiti di Frequenza</h3>
        <p>Se superi il limite di frequenza, l'API risponderà con un codice di stato 429 Too Many Requests. La risposta includerà un header Retry-After che indica quanto tempo attendere prima di effettuare un'altra richiesta.</p>

        <h3>Best Practices</h3>
        <p>Per evitare di raggiungere i limiti di frequenza:</p>

        <ul>
          <li>Implementa il caching nella tua applicazione</li>
          <li>Raggruppa le richieste quando possibile</li>
          <li>Implementa il backoff esponenziale quando ricevi errori di limite di frequenza</li>
          <li>Monitora gli header del limite di frequenza per regolare dinamicamente la frequenza delle richieste</li>
        </ul>
      </div>
    </section>

    <!-- Error Handling Guide -->
    <section class="section" id="error-handling">
      <div class="endpoint-header">
        <h2 class="endpoint-title">Gestione Errori</h2>
        <div class="version-indicator">v1</div>
      </div>

      <div class="prose">
        <p>L'API AGXFeed utilizza codici di stato HTTP standard per indicare il successo o il fallimento di una richiesta API. Questa guida spiega come gestire gli errori restituiti dall'API.</p>

        <h3>Codici di Stato HTTP</h3>
        <p>L'API utilizza i seguenti codici di stato HTTP:</p>

        <ul>
          <li><strong>200 OK</strong> - La richiesta è stata completata con successo</li>
          <li><strong>400 Bad Request</strong> - La richiesta non è valida o non può essere servita</li>
          <li><strong>404 Not Found</strong> - La risorsa richiesta non esiste</li>
          <li><strong>429 Too Many Requests</strong> - Limite di frequenza superato</li>
          <li><strong>500 Internal Server Error</strong> - Si è verificato un errore sul server</li>
        </ul>

        <h3>Formato della Risposta di Errore</h3>
        <p>Quando si verifica un errore, l'API restituisce un oggetto JSON con un campo <code>detail</code> che fornisce informazioni sull'errore.</p>

        <div class="code-block">
          <div class="code-header">
            <span>json</span>
          </div>
          <pre><code>{
  "detail": "Not found"
}</code></pre>
        </div>

        <h3>Errori Comuni</h3>
        <p>Ecco alcuni errori comuni che potresti incontrare:</p>

        <h4>Parametri Obbligatori Mancanti</h4>
        <p>Se ometti un parametro obbligatorio, l'API risponderà con un codice di stato 400 Bad Request.</p>

        <h4>Valori di Parametri Non Validi</h4>
        <p>Se fornisci un valore non valido per un parametro, l'API risponderà con un codice di stato 400 Bad Request.</p>

        <h4>Risorsa Non Trovata</h4>
        <p>Se richiedi una risorsa che non esiste (ad esempio, un simbolo o una fonte non validi), l'API risponderà con un codice di stato 404 Not Found.</p>

        <h3>Best Practices per la Gestione degli Errori</h3>
        <p>Quando integri con l'API AGXFeed, segui queste best practices per la gestione degli errori:</p>

        <ul>
          <li>Controlla sempre il codice di stato HTTP della risposta</li>
          <li>Analizza il messaggio di errore dal corpo della risposta</li>
          <li>Implementa la logica di ripetizione con backoff esponenziale per gli errori 429 e 5xx</li>
          <li>Registra informazioni dettagliate sugli errori per il debug</li>
          <li>Fornisci messaggi di errore user-friendly nella tua applicazione</li>
        </ul>
      </div>
    </section>
  </main>

  <footer>
    <p class="text-muted">© 2025 AGXFeed. Tutti i diritti riservati.</p>
  </footer>
</body>
</html>

